
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://ezeahunanya.github.io/theme/stylesheet/style.min.css">

    <link id="dark-theme-style" rel="stylesheet" type="text/css"
          media="(prefers-color-scheme: dark)"
    href="https://ezeahunanya.github.io/theme/stylesheet/dark-theme.min.css">

    <link id="pygments-dark-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: dark)"
          href="https://ezeahunanya.github.io/theme/pygments/monokai.min.css">
    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"
          href="https://ezeahunanya.github.io/theme/pygments/monokai.min.css">


  <link rel="stylesheet" type="text/css" href="https://ezeahunanya.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://ezeahunanya.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://ezeahunanya.github.io/theme/font-awesome/css/solid.css">





<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-184779819-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">

<meta name="author" content="Eze Ahunanya" />
<meta name="description" content="This is new. Writing a blog. Who would have thought it? Not me. But here we are." />
<meta name="keywords" content="python, data science, pelican, publishing">


<meta property="og:site_name" content="Eze Ahunanya"/>
<meta property="og:title" content="First time for everything (Marvel Cinematic Universe Movie Ratings)"/>
<meta property="og:description" content="This is new. Writing a blog. Who would have thought it? Not me. But here we are."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://ezeahunanya.github.io/blog/first_time_for_everything/"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2020-11-22 17:39:00+00:00"/>
<meta property="article:modified_time" content="2020-12-03 23:16:00+00:00"/>
<meta property="article:author" content="https://ezeahunanya.github.io/author/eze-ahunanya.html">
<meta property="article:section" content="Blog"/>
<meta property="article:tag" content="python"/>
<meta property="article:tag" content="data science"/>
<meta property="article:tag" content="pelican"/>
<meta property="article:tag" content="publishing"/>
<meta property="og:image" content="">

  <title>Eze Ahunanya &ndash; First time for everything (Marvel Cinematic Universe Movie Ratings)</title>

</head>
<body >
  <aside>
    <div>
      <a href="https://ezeahunanya.github.io">
        <img src="https://ezeahunanya.github.io/theme/img/profile.png" alt="Eze Ahunanya" title="Eze Ahunanya">
      </a>

      <h1>
        <a href="https://ezeahunanya.github.io">Eze Ahunanya</a>
      </h1>

<p>Learning is a lifelong process</p>

      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="https://ezeahunanya.github.io/about/#about">
                  About
                </a>
              </li>
              <li>
                <a target="_self"
                   href="https://ezeahunanya.github.io/projects/#projects">
                  Projects
                </a>
              </li>

            <li>
              <a target="_self" href="mailto: ezeahunanya@outlook.com" >ezeahunanya@outlook.com</a>
            </li>
        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-linkedin" href="https://www.linkedin.com/in/ezeahunanya/" target="_blank">
              <i class="fab fa-linkedin"></i>
            </a>
          </li>
          <li>
            <a  class="sc-github" href="https://github.com/ezeahunanya" target="_blank">
              <i class="fab fa-github"></i>
            </a>
          </li>
      </ul>
    </div>

  </aside>
  <main>

    <nav>
      <a href="https://ezeahunanya.github.io">Home</a>

      <a href="/about">About</a>
      <a href="/projects">Projects</a>


    </nav>

<article class="single">
  <header>
      
    <h1 id="first_time_for_everything">First time for everything (Marvel Cinematic Universe Movie Ratings)</h1>
    <p>
      Posted on Sun 22 November 2020 in <a href="https://ezeahunanya.github.io/category/blog.html">Blog</a>

    </p>
  </header>


  <div>
    <p>This is new. Writing a blog. Who would have thought it? Not me. But here we are.</p>
<p>My story starts as a fresh graduate with a master's degree from Loughborough
University. A master of Chemical Engineering apparently, but zero ideas of what I
wanted to do. After stumbling for the better part of a year, I came across data
science while researching my career options. An area which seemed
interesting and suitable with my interests and transferable skills. I decided
to learn Python to improve my technical coding skills and help me
break into data science. With a recommendation from a friend of a friend, I
completed Udacity's Data Analyst Nanodegree. I also completed a few projects
in the process which gave me a solid understanding of Python. Then covid-19
hit the world and the lockdown with it. Things slowed down for me but I made
sure to keep practising.</p>
<p>To knock off some rust, I decided to do an independent project. And with talks
of an impending second lockdown, I wanted the project to be movie related as I
knew a lot my friends spent a significant amount of time on streaming platforms
in the first lockdown. As I thoroughly enjoyed the movies in the marvel
cinematic universe the choice was pretty obvious to me.</p>
<p>The first challenge I faced, was gathering the data. I knew I could
find the relevant data on the RottenTomatoes website but I had never scraped
data off the internet before. To combat this, I had to get acquainted with
Beautiful Soup's documentation very quickly. For those who do not know,
Beautiful Soup is a Python package which acts HTML parser and is used to decode
HTML code and extract data. After a solid week of trial and error, I finally
wrote a working function to extract the data for each MCU movie and combine
it into one DataFrame. The function collected the movie titles, the audience
and critics scores, box office figures, runtime, and the release date. The code
looked like this:  </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_movie_data</span><span class="p">(</span><span class="n">urls_list</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Get the movie data from its url.</span>

<span class="sd">    Arg:</span>
<span class="sd">    url: URL link containing movie data. This should be from Rotten Tomatoes</span>
<span class="sd">    and in a list.</span>

<span class="sd">    Returns:</span>
<span class="sd">    df: A dataframe containing movie data.&quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">url</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">urls_list</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># save html file in respone variable</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;lxml&#39;</span><span class="p">)</span>

            <span class="c1"># extract scores data as dictionary</span>
            <span class="n">scores_text</span> <span class="o">=</span> <span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span>
                                          <span class="s1">&#39;text/javascript&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="n">scores_text_lines_list</span> <span class="o">=</span> <span class="n">scores_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">scores_text_lines_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="s1">&#39;root.RottenTomatoes.context.scoreInfo&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
                    <span class="n">scores_data_dict</span> <span class="o">=</span> <span class="n">line</span>
                    <span class="k">break</span>
            <span class="n">scores_data_dict</span> <span class="o">=</span> <span class="p">(</span><span class="n">scores_data_dict</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;root.RottenTomatoes&#39;</span>
                                <span class="s1">&#39;.context.scoreInfo = &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;true&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;True&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;false&#39;</span><span class="p">,</span> <span class="s1">&#39;False&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;null&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;np.nan&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

            <span class="c1"># convert dictionary into the first dataframe</span>
            <span class="n">df</span> <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="n">scores_data_dict</span><span class="p">),</span>
                 <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">())</span>

            <span class="c1"># extract other movie info and add to the dataframe</span>
            <span class="n">movie_title</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">text</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="s1">&#39; - Rotten Tomatoes&#39;</span><span class="p">)]</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;movie_title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">movie_title</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]))</span>
            <span class="n">release_date_theaters</span> <span class="o">=</span> <span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;meta-row &#39;</span>
                                    <span class="s1">&#39;clearfix&#39;</span><span class="p">)[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;release_date_theaters&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">release_date_theaters</span><span class="p">]</span>
                                          <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">])))</span>
            <span class="n">box_office_gross_usa</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;meta-row &#39;</span>
                                   <span class="s1">&#39;clearfix&#39;</span><span class="p">)[</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;box_office_gross_usa&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">box_office_gross_usa</span><span class="p">]</span>
                                         <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">])))</span>
            <span class="n">runtime</span> <span class="o">=</span> <span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;meta-row clearfix&#39;</span><span class="p">)[</span><span class="mi">9</span><span class="p">]</span>
                      <span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">&#39;runtime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">runtime</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]))</span>
</code></pre></div>
</td></tr></table>

<p>This block of code was repeated for the second URL and following ones.
The results were concatenated together in one DataFrame.</p>
<p>The next challenge came when I started cleaning the data. For the Avengers the
box office number was not provided on the website. So the runtime was pulled in
box office column and the runtime column had irrelevant information. This is
because the code indexed the certain areas assuming the structure would be the
same on every RottenTomatoes page. The relevant section of the code is (taken
from line 35-48):  </p>
<div class="highlight"><pre><span></span><code><span class="c1"># extract other movie info and add to the dataframe</span>
<span class="n">movie_title</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">text</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="s1">&#39; - Rotten Tomatoes&#39;</span><span class="p">)]</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;movie_title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">movie_title</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]))</span>
<span class="n">release_date_theaters</span> <span class="o">=</span> <span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;meta-row &#39;</span>
                        <span class="s1">&#39;clearfix&#39;</span><span class="p">)[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;release_date_theaters&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">release_date_theaters</span><span class="p">]</span>
                              <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">])))</span>
<span class="n">box_office_gross_usa</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;meta-row &#39;</span>
                       <span class="s1">&#39;clearfix&#39;</span><span class="p">)[</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;box_office_gross_usa&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">box_office_gross_usa</span><span class="p">]</span>
                             <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">])))</span>
<span class="n">runtime</span> <span class="o">=</span> <span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;meta-row clearfix&#39;</span><span class="p">)[</span><span class="mi">9</span><span class="p">]</span>
          <span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;runtime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">runtime</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]))</span>
</code></pre></div>


<p>For the box office figure, the code indexed the 9th element of the results
returned from the find_all method. For the runtime, the code indexed the 10th
element. In the unique case of The Avengers, there was no box office figure so
the 9th element had the runtime information.</p>
<p>To fix this, I had to figure out how to make the code search for specific movie
attributes and put them into the correct columns. I did consider scrapping the
box office column which had the problem to avoid it altogether. But I love
a good challenge. After a day or two, I solved the issue by searching for
the attribute name before pulling the data. The more robust code looks like
this:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># extract release date and add to dataframe   </span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span><span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_limit</span><span class="p">)]:</span>
    <span class="n">li_tag_line</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;meta-row clearfix&#39;</span><span class="p">)[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">li_descendants</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">li_tag_line</span><span class="o">.</span><span class="n">descendants</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;Release Date (Theaters):&#39;</span> <span class="ow">in</span> <span class="n">li_descendants</span><span class="p">:</span>
        <span class="n">release_date_theaters</span> <span class="o">=</span> <span class="n">li_descendants</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>
        <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">release_date_theaters</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;release_date_theaters&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">release_date_theaters</span><span class="p">]</span>
                                          <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)))</span>

<span class="c1"># extract runtime and add to dataframe</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span><span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_limit</span><span class="p">)]:</span>
    <span class="n">li_tag_line</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;meta-row clearfix&#39;</span><span class="p">)[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">li_descendants</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">li_tag_line</span><span class="o">.</span><span class="n">descendants</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;Runtime:&#39;</span> <span class="ow">in</span> <span class="n">li_descendants</span><span class="p">:</span>
        <span class="n">runtime</span> <span class="o">=</span> <span class="n">li_descendants</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">runtime</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;runtime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">runtime</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>

<span class="c1"># extract box office info and add to dataframe</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span><span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_limit</span><span class="p">)]:</span>
    <span class="n">li_tag_line</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;meta-row clearfix&#39;</span><span class="p">)[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">li_descendants</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">li_tag_line</span><span class="o">.</span><span class="n">descendants</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;Box Office (Gross USA):&#39;</span> <span class="ow">in</span> <span class="n">li_descendants</span><span class="p">:</span>
        <span class="n">box_office_gross_usa</span> <span class="o">=</span> <span class="n">li_descendants</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">box_office_gross_usa</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;box_office_gross_usa&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">box_office_gross_usa</span><span class="p">]</span>
                                         <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)))</span>
</code></pre></div>


<p>After the data was collected, the rest was smooth sailing. I used Tableau to
visualise the data because I wanted to have an interactive chart. This was the
result:
<center>
<div class='tableauPlaceholder' id='viz1606736942644' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Be&#47;BestofMCUMovies&#47;Story1&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='BestofMCUMovies&#47;Story1' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Be&#47;BestofMCUMovies&#47;Story1&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en' /></object></div><script type='text/javascript'>                    var divElement = document.getElementById('viz1606736942644');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='1016px';vizElement.style.height='991px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script><br>
</center>  </p>
<p>Once I finished the project, I decided to write a blog about the process. I
also figured that a website to host this blog and future blogs would be a neat
touch. I have never made a website before so I guess I have a bit of learning
to do, then a lot of work. Anyways, not bad for my first blog. P.S. If you are
reading this, mission complete.</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://ezeahunanya.github.io/tag/python.html">python</a>
      <a href="https://ezeahunanya.github.io/tag/data-science.html">data science</a>
      <a href="https://ezeahunanya.github.io/tag/pelican.html">pelican</a>
      <a href="https://ezeahunanya.github.io/tag/publishing.html">publishing</a>
    </p>
  </div>





</article>

    <footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script id="dark-theme-script"
          src="https://ezeahunanya.github.io/theme/dark-theme/dark-theme.min.js"
          data-enable-auto-detect-theme="True"
          data-default-theme="light"
          type="text/javascript">
  </script>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Eze Ahunanya ",
  "url" : "https://ezeahunanya.github.io",
  "image": "",
  "description": ""
}
</script>


</body>
</html>